<!DOCTYPE html>
<html lang="en" internet="true" data-theme="dark" iconCodeTheme="overcast" round-ui="true">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <title>Weather Home</title>
    <script src="database/MainDataBase.js"></script>
    <link rel="stylesheet" href="ui-files/ui.css">
    <link rel="stylesheet" href="ui-files/font-usage.css">
    <link rel="stylesheet" href="ui-files/variables.css">
    <link rel="stylesheet" href="components/components.css">
    <link rel="stylesheet" href="components/modal-ver.css">
    <link rel="stylesheet" href="ripple-files/ripple.css">
    <link rel="stylesheet" href="map/leaflet.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.2.3/css/flag-icons.min.css" />
    <script src="modules/Sortable.min.js"></script>
    <script src="modules/lottie.js"></script>
    <script src="langs/langs.js"></script>
    <script src="./bundle.js"></script>
    <script src="modules/chart.js"></script>
    <script src="app/applySettings.js"></script>
</head>

<body>
<div class="no_touch_screen" hidden></div>
<swipeCooldown hidden></swipeCooldown>
<div class="header-top" id="main-Header-Top">
    <div class="header_hold">
        <div class="main-city" id="main-city">
            <button class="ripple-icon-btn regular" onclick="seeSelectedLocation()" ontouchstart="playEffect(this)"
                    style="z-index: 1; pointer-events: none;" ontouchend="playEffect2(this)">
                <span class="ripple-effect-icon"></span>
                <span icon-outlined style="opacity: 0.8;">location_on</span>
            </button>
            <h2 id="city-name" style="margin-right: 3px;">
                loading...
            </h2>
        </div>
        <div class="header_actions">
            <button class="ripple-icon-btn focus regular new_ver_download" onclick="sendThemeToAndroid('OpenGithubReleaseLatest')"

                    ontouchstart="playEffect(this)"style="z-index: 1;"
                    ontouchend="playEffect2(this)" hidden>
                <span class="ripple-effect-icon"></span>
                <span icon-outlined>downloading</span>
            </button>
            <button class="ripple-icon-btn focus regular refresh_weat"
                    onclick="if (navigator.onLine){sendThemeToAndroid('OpenRadar');}else{ShowSnackMessage.ShowSnack(getTranslationByLang(localStorage.getItem('AppLanguageCode'), 'network_unavailable'), 'short');}"
                    ontouchstart="playEffect(this)" id="usage-popover-anchor" style="z-index: 1;"
                    ontouchend="playEffect2(this)">
                <span class="ripple-effect-icon"></span>
                <span icon-outlined>radar</span>
            </button>
            <button class="ripple-icon-btn focus regular" onclick="sendThemeToAndroid('OpenSettings')"
                    ontouchstart="playEffect(this)" style="z-index: 1;" ontouchend="playEffect2(this)">
                <span class="ripple-effect-icon"></span>
                <span icon-outlined>Settings</span>
            </button>


        </div>

        <touch_search id="city-open">
        </touch_search>
    </div>

    <selectLocationText hidden>
        <button class="ripple-icon-btn regular" onclick="seeSelectedLocationClose()" ontouchstart="playEffect(this)"
                style="z-index: 1;" ontouchend="playEffect2(this)">
            <span class="ripple-effect-icon"></span>
            <span icon-outlined>close</span>
        </button>
        <p id="SelectedLocationText"></p>
    </selectLocationText>
    <selectLocationTextOverlay hidden></selectLocationTextOverlay>

</div>
</div>
<!-- current -->
<div class="weather_wrap" id="weather_wrap">
    <div class="weather">
        <div class="main-weat" id="main-weather">


            <div class="current">




                <div class="left_current_weather">
                    <now data-translate="now">Now</now>
                    <div class="temp_img">
                        <p id="temp" style="transition: scale 0.1s ease-in;">0Â°</p>
                        <img id="weather-icon" src="weather-icons/not_available.svg" alt="Weather Icon" style="-webkit-user-drag: none;">
                    </div>

                    <div class="high_low_temp">
                        <p><i icon-outlined>arrow_upward</i><span id="high_temp">34Â°</span></p>
                        <p><i icon-outlined>arrow_downward</i><span id="low_temp">23Â°</span></p>
                    </div>
                </div>

                <div class="disc_main">
                    <p id="description"></p>
                    <span id="feels_like_now">Feels like 30Â°</span>

                </div>




            </div>

            <div class="dew_per">
                <i icon-outlined>schedule</i>
                <p id="last_updated" style="pointer-events: none;"></p>
            </div>

            <div class="animation_holder">
                <canvas id="bg_animation_rain" class="animation_canvas"></canvas>
                <canvas id="bg_animation_thunder" class="animation_canvas"></canvas>
                <canvas id="bg_animation_clouds" class="animation_canvas"></canvas>
                <canvas id="bg_animation_stars" class="animation_canvas"></canvas>
                <canvas id="bg_animation_fog" class="animation_canvas"></canvas>
                <canvas id="bg_animation_snow" class="animation_canvas"></canvas>
                <canvas id="bg_animation_leaves" class="animation_canvas"></canvas>
                <canvas id="bg_animation_drizzle" class="animation_canvas"></canvas>

                <div id="foreground_animation" class="animation_canvas animation_canvas_lottie" style="z-index: 1;">
                </div>
                <div id="background_animation" class="animation_canvas animation_canvas_lottie" style="z-index: 1;">
                </div>

                <div id="foreground_animation_sunny" class="animation_canvas animation_canvas_lottie" style="z-index: 1;">
                </div>
                <div id="background_animation_sunny" class="animation_canvas animation_canvas_lottie" style="z-index: 1;">
                </div>
            </div>

            <div class="control-panel-for-wind">
                <input type="range" id="windSpeed" min="0" max="5" step="0.1" value="1"
                       style="display: none; position: absolute; left: -99999px; pointer-events: none;">
            </div>
        </div>

        <div class="froggie">
            <img src="froggie/01n.png" id="froggie_imgs" alt="" hidden style="-webkit-user-drag: none;">

            <div class="alt_text_frog" style="display: flex; align-items: center; justify-content: center;">
                <p>Loading...</p>
            </div>
        </div>


        <div class="excessiveHeat ripple_btn_low"
             style="margin-bottom: 10px; margin-top: 5px !important; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);"
             onclick="sendThemeToAndroid('OpenAlertsPage')" hidden>
            <div class="icon-container-excessiveHeat">
                <md-icon icon-filled>report</md-icon>
            </div>
            <p id="excessiveHeatText"><span data-translate="weather_alerts" style="font-size: 18px;">Weather
                        alerts</span></p>

        </div>

        <!--        <div class="rainNextHour"style="">-->
        <!--            <div class="icon-container-rainnextHour">-->
        <!--                <md-icon icon-filled id="icon-next-Hour">circle</md-icon>-->
        <!--            </div>-->
        <!--            <p id="rainNextHourText"></p>-->
        <!--        </div>-->



        <div class="floating_indications" hidden>
            <div id="indicatorContainer" class="indicator-container">
                <!-- Indicator balls ðŸ’€ will be dynamically added here -->
            </div>

        </div>


        <div class="weatherComments weatherCommentsDiv" onclick="openSummery()"
             style="box-shadow: 0px 3px 6px rgba(0, 0, 0, 0);">
            <div class="h2" style="padding: 10px;">
                <md-icon icon-outlined id="lock_summary" style="font-size: 20px; width: 0; transition: all 0.2s ease-in;" onclick="lockSummaryToggle();  event.stopPropagation()">lock_open</md-icon>
                <p style="width: 100%; text-align: center; display: flex; align-items: center; justify-content: flex-start; padding-left: 10px; color: var(--On-Surface-Variant);"
                   data-translate="quick_summary">Quick summary</p>
                <md-icon icon-outlined id="arrow_up_toggle">keyboard_arrow_down</md-icon>
            </div>
            <p id="rainStopingText"
               style="margin: 0 !important; padding: 12px; padding-top: 5px; padding-bottom: 0; color: var(--Tertiary); width: calc(100% - 24px);"
               class="whenRainPill" hidden>No data found</p>
            <div id="weatherComments"
                 style="color: var(--On-Surface); padding: 17px; padding-top: 6px; font-size: 15px; padding-bottom: 0;">
            </div>
            <div class="summeryText" style="padding: 10px; padding-top: 0; padding-bottom: 0;">
                <ul id="summeryDay"></ul>
                <ul id="day_tips"></ul>
            </div>

        </div>



        <div class="high-all" style="box-shadow: 0px 3px 6px rgba(0, 0, 0, 0); z-index: 1; position: relative;">
            <div class="high-mini">

                <div class="mini wind ripple_btn_low"
                     onclick="ShowSnack(`${getTranslationByLang(localStorage.getItem('AppLanguageCode'), 'wind_speed')}`, 2000, 3, 'none', ' ', 'no-up')">
                    <span icon-outlined>air</span>
                    <p id="wind-speed"></p>
                </div>

                <div class="mini snowAmount ripple_btn_low"
                     onclick="ShowSnack(`${getTranslationByLang(localStorage.getItem('AppLanguageCode'), 'wind_gust')}`, 2000, 3, 'none', ' ', 'no-up')">
                    <span icon-outlined>wind_power</span>
                    <p id="WindGust"></p>
                </div>


                <div class="mini clouds ripple_btn_low"
                     onclick="ShowSnack(`${getTranslationByLang(localStorage.getItem('AppLanguageCode'), 'cloudiness')}`, 2000, 3, 'none', ' ', 'no-up')">
                    <span icon-outlined>cloud</span>
                    <p id="clouds"></p>
                </div>
            </div>
        </div>



        <div class="insights_scroll noSwipe">
            <div class="insights"
                 style="box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3); z-index: 2; position: relative;">

                <div class="cloths insights_item">
                    <div class="icon_container_cloths">
                        <md-icon icon-filled id="temp_insight_icon">trending_down</md-icon>
                    </div>
                    <p id="temp_insight" class="insights_p">Cooling expected over the next 3 days</p>
                </div>

                <div class="cloths insights_item" onclick="sendThemeToAndroid('OpenClothingPage')">
                    <div class="icon_container_cloths">
                        <md-icon icon-filled>apparel</md-icon>
                    </div>
                    <p id="cloth_recommended" class="insights_p"
                       style="display: flex; align-items: center; width: 80%;"><span
                            data-translate="get_clothing_suggestions">Get your Clothing and Activity
                                Suggestions</span>
                        <flex></flex> <md-icon icon-outlined>arrow_forward</md-icon>
                    </p>
                </div>


                <div class="cloths insights_item">
                    <div class="icon_container_cloths" style="position: relative;">
                        <md-icon icon-filled style="z-index: 1; font-size: 20px;" id="hourglass_top_icon_length">hourglass_top</md-icon>
                        <div style="position: absolute;">
                            <md-circular-progress id="day_value"
                                                  style="--md-circular-progress-active-indicator-width: 7; opacity: 0.7;"></md-circular-progress>
                        </div>
                    </div>
                    <p id="day_length_text" class="insights_p">Cooling expected over the next 3 days</p>
                </div>

            </div>
            <div class="holder_scroll_indi">
                <div class="scroll-indicators" id="scroll-indicators"></div>
            </div>
        </div>


        <div class="other-main">
            <div class="sortHolder" id="sortHolder" style="display: flex; flex-direction: column;">

                <div data-id="1" class="hourly_card_selector">
            <div class="all-24" style="box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);" >
                <div class="h1">
                    <p class="today_Text" data-translate="next_24-hr">Next 24-hr</p>
                    <p class="date_Text_top" id="date_text_top">Mar, 19</p>
                </div>
                <div class="forecast noSwipe" id="forecast">

                    <div style="display: flex; align-items: center; justify-content: center; width: 100%;">
                        <md-circular-progress indeterminate></md-circular-progress>
                    </div>

                </div>
            </div>

            <rainMeter style="box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);">
                <div class="h1">
                    <p data-translate="hourly_precipitation">Hourly precipitation</p>
                </div>

                <div class="wrap_cover_rain_meter"
                     style="display: flex; align-items: center; justify-content: space-between;">
                    <div class="todaysAmount">
                        <p data-translate="today's_amount">Today's amount</p>
                        <span id="AmountRainMM">1.5 mm</span>
                    </div>

                    <div class="todaysAmount" style="padding-left: 0; padding-right: 20px;">
                        <p data-translate="precipitation_hours">Precipitation hours</p>
                        <span id="RainHours">1.5 mm</span>
                    </div>


                </div>


                <rainMeterBar class="noSwipe">

                </rainMeterBar>

            </rainMeter>
                </div>
            <div class="all-5d" style="box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);" data-id="2">
                <div class="h2">
                    <p data-translate="daily_forecast"
                       style="width: calc(100% - 150px); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                        Daily forecast</p>
                    <p class="" style="display: flex; align-items: center;"><span id="open_temp_trend"
                                                                                  style="display: flex; align-items: center;" data-translate="trends">Trends </span><i
                            icon-outlined style="font-size: 20px;" class="trend_arrow_temp">keyboard_arrow_down</i>
                    </p>
                </div>
                <div class="forecast-5day noSwipe" id="forecast-5day">


                </div>


                <div class="temp_trend_wrapper noSwipe">
                    <div class="temp_trend_bars"></div>
                </div>

            </div>

<!--            <div class="LiveMapWrap ripple_btn_low" onclick="sendThemeToAndroid('OpenRadar')"-->
<!--                 style="box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);" hidden>-->
<!--                <div class="radar_label"><md-icon icon-outlined>radar</md-icon> <span-->
<!--                        data-translate="live_radar">Live radar</span></div>-->
<!--                <div id="livemapPreview">-->
<!--                    <img src="icons/prevmap.png" alt="">-->
<!--                </div>-->
<!--            </div>-->





            <div class="currentConditions" style="margin-top: 5px;" id="sortableContainer" data-id="3">


                <div class="currentConditionItem sunRISESET ripple_btn_low" data-id="1"
                     onclick="sendThemeToAndroid('openSunCondition')">
                    <div class="currentConditionItemTitle"><i icon-filled>wb_twilight</i><span
                            data-translate="sun_tile_page" style="width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 17px;">Sun</span></div>

                    <div class="current_condition_icon">
                        <svg height="110.0dip" width="176.0dip" viewBox="0 0 176.0 110.0"
                             xmlns="http://www.w3.org/2000/svg">
                            <path style="fill: var(--Primary-Container );"
                                  d="M176.5,54.44V89.86C176.5,100.91 167.52,109.86 156.44,109.86H20.06C8.98,109.86 0,100.91 0,89.86V52.57C7.79,51.81 15.41,48.77 21.78,43.46L62.06,9.91C76.95,-2.49 98.6,-2.49 113.49,9.91L156.22,45.51C162.18,50.47 169.23,53.45 176.49,54.44H176.5Z"
                                  fill-rule="evenodd" />
                        </svg>
                    </div>

                    <div class="sun_tracker"><img src="weather-icons/clear_day.svg" alt=""></div>


                    <div class="sunset_sunrise_text_block">

                        <div>
                            <md-icon icon-outlined>vertical_align_top</md-icon>
                            <p id="sunrise"></p>
                        </div>

                        <div>
                            <md-icon icon-outlined>vertical_align_bottom</md-icon>
                            <p id="sunset"></p>
                        </div>

                    </div>
                </div>


                <div class="currentConditionItem humidity ripple_btn_low" data-id="2"
                     onclick="sendThemeToAndroid('openHumidityCondition')">
                    <div class="currentConditionItemTitle"><i icon-filled>humidity_high</i><span
                            data-translate="humidity"
                            style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 105px; font-size: 17px;">Humidity</span>
                    </div>

                    <div class="current_condition_icon" id="humidity_icon_svg">
                        <svg viewBox="0 0 364.0 364.0" xmlns="http://www.w3.org/2000/svg">
                            <g> <clip-path d="M0,0h364v364h-364z" />
                                <path style="fill: var(--Inverse-Primary);"
                                      d="M9.4,178.46L7.79,179.41C-3.44,186.01 -10.34,198.06 -10.34,211.09L-10.34,358.64C-10.34,368.45 -2.39,376.41 7.43,376.41H393.8C403.61,376.41 411.57,368.45 411.57,358.64V200.82C411.57,186.08 395.56,176.93 382.86,184.39C376.9,187.89 369.52,187.89 363.56,184.39L353.47,178.46C341.98,171.71 327.73,171.71 316.24,178.46L315.12,179.12C303.63,185.87 289.38,185.87 277.88,179.12L276.76,178.46C265.27,171.71 251.02,171.71 239.53,178.46L238.41,179.12C226.91,185.87 212.67,185.87 201.17,179.12L200.05,178.46C188.56,171.71 174.31,171.71 162.82,178.46L161.7,179.12C150.2,185.87 135.96,185.87 124.46,179.12L123.34,178.46C111.85,171.71 97.6,171.71 86.11,178.46L84.99,179.12C73.49,185.87 59.24,185.87 47.75,179.12L46.63,178.46C35.14,171.71 20.89,171.71 9.4,178.46Z" />
                            </g>
                        </svg>
                    </div>

                    <div class="currentConditionItemHumidityValue">
                        <p id="humidity">1%</p>
                    </div>

                    <div class="currentConditionItemDewpointValue">
                        <p id="dew_percentage">-</p>
                        <span data-translate="dew_point"
                              style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 100px;">Dew
                                point</span>
                    </div>

                </div>



                <div class="currentConditionItem pressure ripple_btn_low" data-id="3"
                     onclick="sendThemeToAndroid('openPressureCondition')">

                    <div class="current_condition_icon" id="pressure_icon_svg">
                        <svg height="176.0dip" width="176.0dip" android:autoMirrored="true"
                             viewBox="0 0 176.0 176.0" xmlns="http://www.w3.org/2000/svg">
                            <path fill="var(--Surface)"
                                  d="M88,0L88,0A88,88 0,0 1,176 88L176,88A88,88 0,0 1,88 176L88,176A88,88 0,0 1,0 88L0,88A88,88 0,0 1,88 0z" />
                            <path fill="var(--Surface-Container-Highest)"
                                  d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C18.99,130.96 12.36,117.82 9.54,103.61C6.45,88.09 8.03,72 14.09,57.39C20.14,42.77 30.4,30.27 43.55,21.48C56.71,12.69 72.18,8 88,8C103.82,8 119.29,12.69 132.45,21.48C145.6,30.27 155.85,42.77 161.91,57.39C167.96,72 169.55,88.09 166.46,103.61C163.64,117.82 157.01,130.96 147.32,141.67C145.84,143.31 143.3,143.3 141.74,141.74V141.74C140.18,140.18 140.19,137.65 141.66,136.01C150.23,126.43 156.1,114.7 158.62,102.05C161.4,88.08 159.97,73.6 154.52,60.45C149.07,47.29 139.84,36.05 128,28.13C116.16,20.22 102.24,16 88,16C73.76,16 59.84,20.22 48,28.13C36.16,36.05 26.93,47.29 21.48,60.45C16.03,73.6 14.61,88.08 17.38,102.05C19.9,114.7 25.77,126.43 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                            <path fill="var(--Primary)"
                                  d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C20.29,132.41 14.2,121.31 10.88,109.26C10.29,107.13 11.66,104.99 13.82,104.51V104.51C15.97,104.03 18.1,105.39 18.7,107.52C21.67,118.08 27.02,127.83 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                        </svg>
                    </div>

                    <div class="currentConditionItemPressureValue">
                        <div style="padding-top: 10px;"><i icon-filled>compress</i><span data-translate="pressure"
                                                                                         style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 80px;">Pressure</span>
                        </div>
                        <p id="pressure_text_main">29.96</p>
                        <span id="pressureMainUnit">inHG</span>
                    </div>


                </div>


                <div class="currentConditionItem WindDirc ripple_btn_low" data-id="4"
                     onclick="sendThemeToAndroid('openWindCondition')">

                    <div class="current_condition_icon" id="windDirectionArrow">
                        <svg viewBox="0 0 176.0 176.0" xmlns="http://www.w3.org/2000/svg">
                            <g> <clip-path
                                    d="M88,0L88,0A88,88 0,0 1,176 88L176,88A88,88 0,0 1,88 176L88,176A88,88 0,0 1,0 88L0,88A88,88 0,0 1,88 0z" />
                                <path fill="var(--Surface)"
                                      d="M88,0L88,0A88,88 0,0 1,176 88L176,88A88,88 0,0 1,88 176L88,176A88,88 0,0 1,0 88L0,88A88,88 0,0 1,88 0z" />
                                <path fill="var(--Secondary-Container)"
                                      d="M108.04,151.24C99.97,168.05 76.03,168.05 67.96,151.24L27.21,66.3C18.79,48.75 35.4,29.63 53.96,35.5L81.29,44.15C85.66,45.54 90.34,45.54 94.71,44.15L122.04,35.5C140.6,29.63 157.21,48.75 148.79,66.3L108.04,151.24Z" />
                            </g>
                        </svg>
                    </div>

                    <div class="currentConditionItemWindDircValue">
                        <div><i icon-filled>explore</i><span data-translate="direction"
                                                             style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 80px; display: block;">Direction</span>
                        </div>
                        <p id="directionWind">--</p>
                        <span id="windtype"
                              style="display: block; overflow: hidden; text-overflow: ellipsis; width: calc(100% - 50px); white-space: nowrap; text-align: center;">---</span>
                    </div>


                </div>



                <div class="currentConditionItem visibility ripple_btn_low" data-id="5"
                     onclick="sendThemeToAndroid('openVisibilityCondition')">
                    <div class="currentConditionItemTitle visibility"><i icon-filled>visibility</i><span
                            data-translate="visibility"
                            style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 80px;">Visibility</span>
                    </div>

                    <div class="current_condition_icon">
                        <svg height="180.0dip" width="180.0dip" viewBox="0 0 180.0 180.0"
                             xmlns="http://www.w3.org/2000/svg">
                            <path fill="var(--Inverse-Primary)"
                                  d="M89.07,16.84C94.2,12.37 102.04,13.19 106.12,18.63V18.63C109.08,22.57 114.2,24.24 118.91,22.78V22.78C125.41,20.79 132.24,24.73 133.75,31.35V31.35C134.85,36.16 138.85,39.76 143.75,40.36V40.36C150.5,41.17 155.13,47.55 153.82,54.22V54.22C152.88,59.06 155.06,63.98 159.3,66.51V66.51C165.13,70 166.77,77.71 162.86,83.27V83.27C160.02,87.31 160.02,92.69 162.86,96.73V96.73C166.77,102.29 165.13,110 159.3,113.49V113.49C155.06,116.02 152.88,120.94 153.82,125.78V125.78C155.13,132.45 150.5,138.83 143.75,139.65V139.65C138.85,140.24 134.85,143.84 133.75,148.65V148.65C132.24,155.27 125.41,159.21 118.91,157.21V157.21C114.2,155.76 109.08,157.43 106.12,161.37V161.37C102.04,166.81 94.2,167.63 89.07,163.16V163.16C85.36,159.92 80,159.36 75.69,161.76V161.76C69.75,165.06 62.26,162.63 59.4,156.46V156.46C57.32,151.99 52.66,149.3 47.74,149.74V149.74C40.97,150.34 35.12,145.07 35.01,138.27V138.27C34.93,133.34 31.77,128.98 27.1,127.38V127.38C20.67,125.18 17.46,117.98 20.13,111.73V111.73C22.07,107.19 20.95,101.93 17.33,98.57V98.57C12.35,93.94 12.35,86.06 17.33,81.43V81.43C20.95,78.07 22.07,72.81 20.13,68.27V68.27C17.46,62.02 20.67,54.82 27.1,52.62V52.62C31.77,51.02 34.93,46.66 35.01,41.73V41.73C35.12,34.94 40.97,29.66 47.74,30.26V30.26C52.66,30.7 57.32,28.01 59.4,23.54V23.54C62.26,17.37 69.75,14.94 75.69,18.24V18.24C80,20.64 85.36,20.08 89.07,16.84V16.84Z"
                                  stroke-opacity="0.5" fill-opacity="0.5" />
                            <path fill="var(--Inverse-Primary)"
                                  d="M85.25,16.99C90.13,12.26 98,12.67 102.36,17.88V17.88C105.52,21.67 110.72,23.06 115.36,21.37V21.37C121.74,19.03 128.76,22.61 130.63,29.15V29.15C131.98,33.89 136.16,37.28 141.08,37.61V37.61C147.86,38.07 152.82,44.2 151.87,50.93V50.93C151.17,55.81 153.61,60.61 157.97,62.92V62.92C163.98,66.1 166.02,73.71 162.41,79.47V79.47C159.79,83.65 160.07,89.02 163.11,92.91V92.91C167.31,98.26 166.07,106.04 160.43,109.83V109.83C156.34,112.58 154.41,117.61 155.61,122.39V122.39C157.27,128.99 152.97,135.6 146.28,136.76V136.76C141.42,137.61 137.61,141.42 136.76,146.28V146.28C135.6,152.98 128.98,157.27 122.39,155.61V155.61C117.61,154.41 112.58,156.34 109.83,160.43V160.43C106.04,166.08 98.25,167.31 92.9,163.11V163.11C89.02,160.07 83.65,159.79 79.47,162.41V162.41C73.71,166.02 66.1,163.98 62.92,157.97V157.97C60.61,153.61 55.81,151.17 50.93,151.87V151.87C44.2,152.82 38.07,147.86 37.61,141.08V141.08C37.28,136.16 33.89,131.98 29.14,130.63V130.63C22.61,128.76 19.03,121.74 21.36,115.36V115.36C23.06,110.72 21.67,105.53 17.88,102.36V102.36C12.67,98 12.25,90.13 16.99,85.25V85.25C20.42,81.71 21.26,76.39 19.09,71.96V71.96C16.1,65.86 18.92,58.5 25.23,55.96V55.96C29.81,54.12 32.74,49.61 32.56,44.68V44.68C32.31,37.88 37.88,32.31 44.68,32.56V32.56C49.61,32.74 54.12,29.81 55.96,25.23V25.23C58.49,18.93 65.85,16.1 71.96,19.09V19.09C76.39,21.26 81.7,20.42 85.25,16.99V16.99Z"
                                  stroke-opacity="0.5" fill-opacity="0.5" />
                            <path fill="var(--Inverse-Primary)"
                                  d="M81.43,17.33C86.06,12.35 93.94,12.35 98.57,17.33V17.33C101.93,20.95 107.19,22.07 111.73,20.13V20.13C117.98,17.46 125.18,20.67 127.38,27.1V27.1C128.98,31.77 133.34,34.93 138.27,35.01V35.01C145.07,35.12 150.34,40.97 149.74,47.75V47.75C149.3,52.66 151.99,57.32 156.46,59.4V59.4C162.63,62.26 165.06,69.75 161.76,75.69V75.69C159.36,80 159.92,85.36 163.16,89.07V89.07C167.63,94.2 166.81,102.04 161.37,106.12V106.12C157.43,109.08 155.76,114.2 157.21,118.91V118.91C159.21,125.41 155.27,132.24 148.65,133.75V133.75C143.84,134.85 140.24,138.85 139.64,143.75V143.75C138.83,150.5 132.45,155.13 125.78,153.82V153.82C120.94,152.88 116.02,155.06 113.49,159.3V159.3C110,165.13 102.29,166.77 96.73,162.86V162.86C92.69,160.02 87.31,160.02 83.27,162.86V162.86C77.71,166.77 70,165.13 66.51,159.3V159.3C63.98,155.06 59.06,152.88 54.22,153.82V153.82C47.55,155.13 41.17,150.5 40.36,143.75V143.75C39.76,138.85 36.16,134.85 31.35,133.75V133.75C24.73,132.24 20.79,125.41 22.78,118.91V118.91C24.24,114.2 22.57,109.08 18.63,106.12V106.12C13.19,102.04 12.37,94.2 16.84,89.07V89.07C20.08,85.36 20.64,80 18.24,75.69V75.69C14.94,69.75 17.37,62.26 23.54,59.4V59.4C28.01,57.32 30.7,52.66 30.26,47.75V47.75C29.66,40.97 34.94,35.12 41.73,35.01V35.01C46.66,34.93 51.02,31.77 52.62,27.1V27.1C54.82,20.67 62.02,17.46 68.27,20.13V20.13C72.81,22.07 78.07,20.95 81.43,17.33V17.33Z" />
                        </svg>
                    </div>


                    <div class="currentConditionItemVisibilityValue">
                        <p id="min-temp">10</p>
                        <span id="unit_visibility">km</span>
                    </div>

                </div>




                <div class="currentConditionItem moonSetRise ripple_btn_low" onclick="sendThemeToAndroid('openMoonCondition')" data-id="6">
                    <div class="currentConditionItemTitle"><i icon-filled>bedtime</i><span data-translate="moon" style="width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;  font-size: 17px;">Sun</span></div>

                    <div class="current_condition_icon">
                        <svg height="110.0dip" width="176.0dip" viewBox="0 0 176.0 110.0"
                             xmlns="http://www.w3.org/2000/svg">
                            <path style="fill: var(--Secondary-Container);"
                                  d="M176.5,54.44V89.86C176.5,100.91 167.52,109.86 156.44,109.86H20.06C8.98,109.86 0,100.91 0,89.86V52.57C7.79,51.81 15.41,48.77 21.78,43.46L62.06,9.91C76.95,-2.49 98.6,-2.49 113.49,9.91L156.22,45.51C162.18,50.47 169.23,53.45 176.49,54.44H176.5Z"
                                  fill-rule="evenodd" />
                        </svg>
                        <moonPhaseProgress hidden></moonPhaseProgress>
                        <div id="moonIlli" hidden></div>
                        <div id="moonSetTime" hidden></div>
                        <div id="moonriseTime" hidden></div>

                    </div>

                    <div class="moon_tracker"><img src="weather-icons/clear_night.svg " alt=""></div>


                    <div class="moonset_moonrise_text_block">
                        <p id="moonPhase_name"></p>
                    </div>
                </div>


            </div>

            <div class="pollen_data " hidden style="box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);" data-id="4">
                <div class="pollen_heading">
                    <md-icon icon-filled>allergy</md-icon>
                    <p data-translate="pollen">Pollen</p>
                </div>

                <div class="pollen_data_divs">

                    <div class="pollen_circles">
                        <div class="pollen_icon">
                            <i icon-outlined>grass</i>
                            <span data-translate="grass">Grass</span>
                        </div>

                        <div class="Pollen_Icon_slot_grass Pollen_Icon_slot">
                            <svg android:autoMirrored="true" viewBox="0 0 176.0 176.0"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path fill="transparent"
                                      d="M88,0L88,0A88,88 0,0 1,176 88L176,88A88,88 0,0 1,88 176L88,176A88,88 0,0 1,0 88L0,88A88,88 0,0 1,88 0z" />
                                <path fill="var(--Surface-Container-Highest)"
                                      d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C18.99,130.96 12.36,117.82 9.54,103.61C6.45,88.09 8.03,72 14.09,57.39C20.14,42.77 30.4,30.27 43.55,21.48C56.71,12.69 72.18,8 88,8C103.82,8 119.29,12.69 132.45,21.48C145.6,30.27 155.85,42.77 161.91,57.39C167.96,72 169.55,88.09 166.46,103.61C163.64,117.82 157.01,130.96 147.32,141.67C145.84,143.31 143.3,143.3 141.74,141.74V141.74C140.18,140.18 140.19,137.65 141.66,136.01C150.23,126.43 156.1,114.7 158.62,102.05C161.4,88.08 159.97,73.6 154.52,60.45C149.07,47.29 139.84,36.05 128,28.13C116.16,20.22 102.24,16 88,16C73.76,16 59.84,20.22 48,28.13C36.16,36.05 26.93,47.29 21.48,60.45C16.03,73.6 14.61,88.08 17.38,102.05C19.9,114.7 25.77,126.43 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                                <path fill="#0ec70e"
                                      d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C16.29,127.98 8.99,110.39 8.09,91.87C7.2,73.35 12.76,55.14 23.76,40.32C25.08,38.54 27.61,38.3 29.32,39.71V39.71C31.02,41.11 31.26,43.63 29.95,45.41C20.2,58.69 15.28,74.95 16.08,91.49C16.89,108.02 23.36,123.73 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                            </svg>
                        </div>

                        <div class="pollen_values">
                            <p id="pollen_number_grass">1/4</p>
                            <span id="pollen_data-text_grass">Low</span>
                        </div>

                    </div>

                    <div class="pollen_circles">
                        <div class="pollen_icon">
                            <i icon-outlined>nature</i>
                            <span data-translate="tree">Tree</span>
                        </div>
                        <div class="Pollen_Icon_slot_tree Pollen_Icon_slot">

                            <svg android:autoMirrored="true" viewBox="0 0 176.0 176.0"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path fill="transparent"
                                      d="M88,0L88,0A88,88 0,0 1,176 88L176,88A88,88 0,0 1,88 176L88,176A88,88 0,0 1,0 88L0,88A88,88 0,0 1,88 0z" />
                                <path fill="var(--Surface-Container-Highest)"
                                      d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C18.99,130.96 12.36,117.82 9.54,103.61C6.45,88.09 8.03,72 14.09,57.39C20.14,42.77 30.4,30.27 43.55,21.48C56.71,12.69 72.18,8 88,8C103.82,8 119.29,12.69 132.45,21.48C145.6,30.27 155.85,42.77 161.91,57.39C167.96,72 169.55,88.09 166.46,103.61C163.64,117.82 157.01,130.96 147.32,141.67C145.84,143.31 143.3,143.3 141.74,141.74V141.74C140.18,140.18 140.19,137.65 141.66,136.01C150.23,126.43 156.1,114.7 158.62,102.05C161.4,88.08 159.97,73.6 154.52,60.45C149.07,47.29 139.84,36.05 128,28.13C116.16,20.22 102.24,16 88,16C73.76,16 59.84,20.22 48,28.13C36.16,36.05 26.93,47.29 21.48,60.45C16.03,73.6 14.61,88.08 17.38,102.05C19.9,114.7 25.77,126.43 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                                <path fill="#e0b700"
                                      d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C18.99,130.96 12.36,117.82 9.54,103.61C6.45,88.09 8.03,72 14.09,57.39C20.14,42.77 30.4,30.27 43.55,21.48C55.6,13.43 69.58,8.82 84,8.1C86.21,7.99 88,9.79 88,12V12C88,14.21 86.21,15.99 84,16.11C71.17,16.82 58.73,20.96 48,28.13C36.16,36.05 26.93,47.29 21.48,60.45C16.03,73.6 14.61,88.08 17.38,102.05C19.9,114.7 25.77,126.43 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                            </svg>
                        </div>

                        <div class="pollen_values">
                            <p id="pollen_number_tree">1/4</p>
                            <span id="pollen_data-text_tree">Low</span>
                        </div>
                    </div>

                    <div class="pollen_circles">
                        <div class="pollen_icon">
                            <i icon-outlined>psychiatry</i>
                            <span data-translate="weed">Weed</span>
                        </div>
                        <div class="Pollen_Icon_slot_weed Pollen_Icon_slot">

                            <svg android:autoMirrored="true" viewBox="0 0 176.0 176.0"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path fill="transparent"
                                      d="M88,0L88,0A88,88 0,0 1,176 88L176,88A88,88 0,0 1,88 176L88,176A88,88 0,0 1,0 88L0,88A88,88 0,0 1,88 0z" />
                                <path fill="var(--Surface-Container-Highest)"
                                      d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C18.99,130.96 12.36,117.82 9.54,103.61C6.45,88.09 8.03,72 14.09,57.39C20.14,42.77 30.4,30.27 43.55,21.48C56.71,12.69 72.18,8 88,8C103.82,8 119.29,12.69 132.45,21.48C145.6,30.27 155.85,42.77 161.91,57.39C167.96,72 169.55,88.09 166.46,103.61C163.64,117.82 157.01,130.96 147.32,141.67C145.84,143.31 143.3,143.3 141.74,141.74V141.74C140.18,140.18 140.19,137.65 141.66,136.01C150.23,126.43 156.1,114.7 158.62,102.05C161.4,88.08 159.97,73.6 154.52,60.45C149.07,47.29 139.84,36.05 128,28.13C116.16,20.22 102.24,16 88,16C73.76,16 59.84,20.22 48,28.13C36.16,36.05 26.93,47.29 21.48,60.45C16.03,73.6 14.61,88.08 17.38,102.05C19.9,114.7 25.77,126.43 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                                <path fill="red"
                                      d="M34.26,141.74C32.7,143.3 30.16,143.31 28.67,141.67C20.18,132.27 14.01,120.98 10.73,108.71C7.09,95.14 7.09,80.86 10.73,67.29C14.36,53.73 21.5,41.36 31.43,31.43C41.36,21.5 53.73,14.36 67.29,10.73C80.86,7.09 95.14,7.09 108.71,10.73C122.27,14.36 134.64,21.5 144.57,31.43C154.5,41.36 161.64,53.73 165.27,67.29C168.56,79.57 168.88,92.43 166.21,104.82C165.75,106.98 163.54,108.24 161.41,107.67V107.67C159.28,107.1 158.02,104.91 158.47,102.74C160.78,91.72 160.47,80.28 157.55,69.36C154.28,57.16 147.85,46.03 138.91,37.09C129.98,28.15 118.84,21.72 106.64,18.45C94.43,15.18 81.57,15.18 69.36,18.45C57.16,21.72 46.03,28.15 37.09,37.09C28.15,46.03 21.72,57.16 18.45,69.36C15.18,81.57 15.18,94.43 18.45,106.64C21.38,117.55 26.83,127.61 34.34,136.01C35.81,137.65 35.82,140.18 34.26,141.74V141.74Z" />
                            </svg>
                        </div>

                        <div class="pollen_values">
                            <p id="pollen_number_weed"></p>
                            <span id="pollen_data-text_weed">Low</span>
                        </div>
                    </div>

                </div>

            </div>



            <div class="all_air_quality air_selector ripple_btn_low" data-id="5" onclick="sendThemeToAndroid('OpenAirQualityCondition')"
                 style="border-radius: 10px; margin-bottom: 0px; overflow: hidden; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);"
                 id="ifPollenIsThere">
                <div class="sun_text">
                    <p data-translate="air_quality" style="width: calc(100% - 150px); overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">Air Quality</p>
                    <space></space>
                    <div class="air_text air_text_value_aqi">
                        <p id="aqi-level-value">33</p>
                    </div>
                    <div class="air_text">
                        <p id="aqi-level">Error</p>
                    </div>
                </div>
                <div class="air-quality">

                    <div class="img-div_air">
                        <img src="icons/error.png" id="aqi_img" alt="" style="-webkit-user-drag: none;">
                    </div>
                    <div class="all_text_air">
                        <div class="detail">
                            <span id="detail_air">Air quality not found!</span>
                        </div>
                    </div>
                </div>



                <div class="air_quality_key_details">

                    <div class="air_quality_key_item">
                        <span>PM2.5</span>
                        <air_key_color id="pm25_air_color" style="--key_air_color: red;"></air_key_color>
                        <p id="pm25_air"></p>
                    </div>

                    <div class="air_quality_key_item">
                        <span>CO</span>
                        <air_key_color id="CO_air_color"></air_key_color>
                        <p id="CO_air"></p>
                    </div>

                    <div class="air_quality_key_item">
                        <span>NO2</span>
                        <air_key_color id="NO2_air_color"></air_key_color>
                        <p id="NO2_air"></p>
                    </div>

                    <div class="air_quality_key_item">
                        <span>SO2</span>
                        <air_key_color id="SO2_air_color"></air_key_color>
                        <p id="SO2_air"></p>
                    </div>

                    <div class="air_quality_key_item">
                        <span>O3</span>
                        <air_key_color id="O3_air_color"></air_key_color>
                        <p id="O3_air"></p>
                    </div>


                    <div class="air_quality_key_item">
                        <span>PM10</span>
                        <air_key_color id="pm10_air_color"></air_key_color>
                        <p id="pm10_air"></p>
                    </div>

                </div>


            </div>

            <div class="all_air_quality ripple_btn_low uv_selector" data-id="6"
                 style="border-radius: 10px; margin-top: 0px; margin-bottom: 0; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);"
                 onclick="sendThemeToAndroid('openUVcondition')" id="uvIndexMainDiv">
                <div class="sun_text">
                    <p data-translate="uv_index">UV Index</p>
                    <div class="air_text">
                        <p id="uv-index"></p>
                    </div>
                </div>
                <div class="air-quality">

                    <div class="img-div_air">
                        <img src=" " id="uv_img" alt="" style="-webkit-user-drag: none;">
                    </div>
                    <div class="all_text_air">
                        <div class="detail">
                            <span id="detail_uv"></span>
                        </div>
                    </div>
                </div>

            </div>
            </div>



            <div id="updated-div">
                <p id="updated" class="data_provider_name_import">Using offline</p>
            </div>



        </div>
    </div>
</div>



<!-- search-modal -->

<div id="search-container" class="modal">
    <div class="main-options" id="main-opt"
         style="border-bottom-color: transparent !important; padding-left: 10px !important;">
        <button class="ripple-icon-btn focus regular close_search" ontouchstart="playEffect(this)" hidden
                ontouchend="playEffect2(this)">
            <span class="ripple-effect-icon"></span>
            <span icon-outlined>arrow_back</span>
        </button>
        <input type="search" id="city-input" class="focus-input" placeholder="Search for a city..."
               style="width: 100%;" hidden autocomplete="off">

        <div class="city_loader">
            <md-linear-progress id="cityLoader" indeterminate
                                style="width: 100%;  --md-linear-progress-track-height: 2px;" hidden></md-linear-progress>
        </div>

        <button class="ripple-icon-btn focus regular" id="clearCityInput" ontouchstart="playEffect(this)" hidden
                ontouchend="playEffect2(this)">
            <span class="ripple-effect-icon"></span>
            <span icon-outlined>close</span>
        </button>

        <button class="ripple-icon-btn focus regular" id="openMapPicker" ontouchstart="playEffect(this)" hidden
                ontouchend="playEffect2(this)">
            <span class="ripple-effect-icon"></span>
            <span icon-outlined>map</span>
        </button>
        <span
                style="font-size: 25px; width: 100%; display: flex; align-items: center; justify-content: center; color: var(--On-Surface-Variant);"
                data-translate="locations">Locations</span>
    </div>
    <div class="modal-content" id="modal-content">
        <div class="city-list" id="city-list">

        </div>

        <div class="currentLocationdiv" style="margin-top: 20px; position: relative;">
            <p class="title" style="display: flex; align-items: center; gap: 10px;"><md-icon
                    icon-outlined>location_on</md-icon><span data-translate="current_location">Home
                        location</span><md-text-button id="saveLocationCurrent"
                                                       onclick="saveLocationToContainer(document.getElementById('saveLocationCurrent').getAttribute('data-location-text'), document.getElementById('saveLocationCurrent').getAttribute('data-lat'), document.getElementById('saveLocationCurrent').getAttribute('data-long'))"
                                                       hidden>Save?</md-text-button>
                <flex></flex><i id="showDeviceLocation" icon-outlined style="margin-right: 20px;" hidden>info</i>
            </p>
            <div class="currentLocations ripple_btn_low" id="currentLocations"
                 onclick="ReturnHomeLocation();  window.history.back();">
                <div class="currentSearchImg">
                    <img src="icons/error.png" id="currentSearchImg" alt="" style="-webkit-user-drag: none;">
                </div>
                <currentLocationNames>
                    <p id="currentLocationName">-----------</p>
                    <span id="temPDiscCurrentLocation">--------</span>
                    <mainCurrenttemp>--</mainCurrenttemp>
                </currentLocationNames>
            </div>
            <div class="view_device_location" hidden>
                <p id="device_address" style="text-align: center;"><md-circular-progress
                        indeterminate></md-circular-progress></p>
                <span>From your device</span>
            </div>
        </div>

        <div class="savedLocations" hidden style="padding-bottom: 130px; position: relative;">
            <p class="title" style="display: flex; align-items: center; gap: 10px;"><md-icon
                    icon-outlined>star</md-icon><span data-translate="saved_locations">Saved locations</span>
                <flex></flex> <md-icon-button style="margin-right: 10px;" toggle id="edit_saved_locations"><md-icon
                        icon-filled>Edit</md-icon><md-icon icon-filled
                                                           slot="selected">close</md-icon></md-icon-button>
            </p>

            <savedLocationsHolder>



            </savedLocationsHolder>

        </div>

        <button id="addlocationFab"
                onclick="sendThemeToAndroid('AddLocationPage'); if(JSON.parse(localStorage.getItem(`SearchedItem`))){localStorage.removeItem(`SearchedItem`)}">
            <i icon-outlined>add</i>
            <md-ripple
                    style="--md-sys-color-on-surface: var(--On-Primary); --md-ripple-pressed-opacity: 0.2;"></md-ripple>
        </button>

    </div>
</div>
<!-- loader -->

<div id="loader-container" class="loader-container">
    <md-linear-progress indeterminate style="width: 100%;"></md-linear-progress>
</div>

<div class="fab-holder" hidden>
    <md-fab variant="primary" onclick="getCurrentLocationWeather()">
        <md-icon icon-outlined slot="icon">my_location</md-icon>
    </md-fab>
</div>


<div id="toast-container" class="toast-container"></div>

<div class="no_internet_error" hidden>
    <div class="img_wrap404">
        <!-- <img src="icons/404.svg" alt=""> -->
        <div id="error_img_cat" style="height: 280px;"></div>
    </div>


    <div class="text_content_error">
        <p data-translate="Error occurred!">Error occurred!</p>

        <span data-translate="Check your internet connection and try again.">Check your internet connection and try again.</span>
        <md-divider></md-divider>
        <span id="error_text_content" style="margin-top: 10px;">There might be an API error.</span>
        <md-divider></md-divider>
        <span style="margin-top: 10px;">You can import your saved backup.</span>

    </div>

    <div class="retry_btn_error">
        <button class="ripple_btn" onclick="window.location.reload(); sendThemeToAndroid('overcast')">Retry</button>
        <button class="ripple_btn" onclick="Android.importFile();" icon-outlined
                style="font-family: 'Material symbols'; width: 50px; margin-left: 10px;">download</button>
    </div>
</div>


<div class="not_made_for_pc">
    <p>UI isn't made for Desktop devices</p>
</div>



<div class="map_picker" hidden>
    <div class="topLocationPickerActions">
        <button class="ripple-icon-btn focus regular" onclick="window.history.back()"
                ontouchstart="playEffect(this)" ontouchend="playEffect2(this)">
            <span class="ripple-effect-icon"></span>
            <span icon-outlined>arrow_back</span>
        </button>
        <p data-translate="pick_a_location">Pick a location</p>
    </div>


    <div class="map_pick_holder">
        <div class="map_wrap">
            <div id="map"></div>
        </div>

    </div>

</div>


<div class="start_up_screen" hidden>

    <div class="start_up_screen_screen">

        <div class="top_start_up_info">

            <p>Welcome to <br> WeatherMaster!</p>

            <span>Please search for a location or use your device's location to get the weather for your area.</span>

        </div>

        <div class="startup_location_icon_mat">
            <svg viewBox="0 0 412 300"
                 xmlns="http://www.w3.org/2000/svg">
                <g>
                    <clip-path d="M0,0h412v300h-412z" />
                    <path fill="transparent" d="M384.2,300H27.8C12.5,300 0,287.2 0,271.5V28.5C0,12.8 12.5,0 27.8,0H384.3C399.5,0 412,12.8 412,28.5V271.7C412,287.2 399.5,300 384.2,300Z" />
                    <path fill="#f9ab00" d="M236.83,79.07C238.35,77.64 240.78,77.64 242.31,79.07C243.18,79.88 244.4,80.26 245.6,80.1C247.7,79.81 249.67,81.19 250.03,83.2C250.24,84.36 250.99,85.35 252.07,85.9C253.95,86.86 254.69,89.09 253.76,90.93C253.23,91.98 253.23,93.21 253.76,94.26C254.69,96.1 253.95,98.33 252.07,99.29C250.99,99.84 250.24,100.83 250.03,101.99C249.67,104 247.7,105.38 245.6,105.09C244.4,104.93 243.18,105.31 242.31,106.12C240.78,107.54 238.35,107.54 236.83,106.12C235.95,105.31 234.74,104.93 233.54,105.09C231.43,105.38 229.47,104 229.1,101.99C228.89,100.83 228.14,99.84 227.07,99.29C225.19,98.33 224.44,96.1 225.37,94.26C225.91,93.21 225.91,91.98 225.37,90.93C224.44,89.09 225.19,86.86 227.07,85.9C228.14,85.35 228.89,84.36 229.1,83.2C229.47,81.19 231.43,79.81 233.54,80.1C234.74,80.26 235.95,79.88 236.83,79.07Z" />
                    <path fill="#000000" d="M177.96,169.46C170.17,169.46 163.59,174.91 160.91,182.54C159.08,181.17 156.89,180.49 154.57,180.49C149.21,180.49 144.71,184.44 143.24,189.89H208.43" stroke="#dadce0" stroke-width="2.0" android:strokeLineCap="square" />
                    <path fill="#000000" d="M190.56,140.95H137.41C138.94,135.84 143.67,132.13 149.29,132.13C151.72,132.13 154.02,132.77 155.93,134.05C158.75,126.89 165.65,121.78 173.82,121.78C182.33,121.78 188.74,126.31 191.2,134.11" stroke="#dadce0" stroke-width="2.0" />
                    <path fill="#000000" d="M262.15,117.86C264.75,117.86 267.01,119.24 268.24,121.28C268.76,121.1 269.32,121.02 269.88,121.02C272.08,121.02 273.96,122.42 274.58,124.4L274.98,125.7H273.62H256.11H255.11V124.7C255.11,120.88 258.33,117.86 262.15,117.86Z" stroke="#dadce0" stroke-width="2.0" />
                    <path fill="#000000" d="M237.58,218.87C236.99,218.87 236.41,218.97 235.87,219.16C234.57,215.71 231.37,213.22 227.59,213.22C224,213.22 220.98,215.44 219.54,218.57C218.69,218.16 217.75,217.92 216.75,217.92C213.8,217.92 211.34,219.92 210.4,222.65L209.95,223.97H211.35H241.51H242.82L242.48,222.71C241.88,220.49 239.93,218.87 237.58,218.87Z" stroke="#dadce0" stroke-width="2.0" />
                    <path fill="#8ab4f8" d="M184.32,97.59C183.78,97.59 183.25,97.67 182.75,97.84C181.49,94.75 178.48,92.57 174.97,92.57C171.64,92.57 168.8,94.52 167.42,97.31C166.63,96.96 165.76,96.75 164.83,96.75C162.07,96.75 159.74,98.53 158.84,101.01L158.36,102.35H159.78H188H189.32L188.96,101.08C188.38,99.04 186.51,97.59 184.32,97.59Z" stroke="#8ab4f8" stroke-width="2.0" />
                    <path fill="#8ab4f8" d="M150.68,163.37C149.56,163.37 148.48,163.72 147.62,164.35C146.5,159.46 142.36,155.84 137.48,155.84C132.8,155.84 128.89,159.12 127.49,163.6C126.25,162.68 124.75,162.11 123.14,162.11C119.87,162.11 117.07,164.35 116,167.51H155.89C155.25,165.1 153.15,163.37 150.68,163.37Z" />
                    <path fill="#000000" d="M214.88,146.54C219.15,146.21 222,147.56 224.27,149.17C226.84,141.29 234.05,135.53 242.65,135.53C251.64,135.53 259.25,141.9 261.33,150.49C262.91,149.38 264.88,148.77 266.96,148.77C271.5,148.77 275.36,151.8 276.54,156.04H214.27" stroke="#dadce0" stroke-width="2.0" />
                    <path fill="#000000" d="M218.68,173.46C227.04,173.46 238.68,178.53 238.68,188.93C240.35,188.06 242.64,187.19 244.53,187.19C252.9,187.19 256.24,192.39 257.08,196.6L203.57,196.6" stroke="#dadce0" stroke-width="2.0" android:strokeLineCap="square" />
                    <path fill="#8ab4f8" d="M268.59,147.08C274.74,147.08 279.94,150.97 282.05,156.42C283.5,155.45 285.23,154.96 287.05,154.96C291.29,154.96 294.85,157.78 296,161.68H254.16C254.16,153.6 260.7,147.08 268.59,147.08Z" />
                    <path fill="#1a73e8" d="M203.09,206.43C202.11,206.46 201.15,206.14 200.38,205.53C199.61,204.9 199.02,204.08 198.68,203.15C197.3,199.03 195.5,195.06 193.32,191.3C190.61,186.78 187.61,182.44 184.35,178.31C180.84,173.84 177.72,169.08 175.03,164.08C172.53,158.99 171.31,153.37 171.47,147.7C171.46,143.54 172.26,139.41 173.84,135.56C175.42,131.71 177.75,128.21 180.69,125.25C183.63,122.3 187.12,119.96 190.96,118.37C194.8,116.77 198.93,115.95 203.09,115.95C207.25,115.95 211.37,116.77 215.22,118.37C219.06,119.96 222.55,122.3 225.49,125.25C228.43,128.21 230.75,131.71 232.33,135.56C233.91,139.41 234.72,143.54 234.7,147.7C234.7,154.55 233.4,160.26 230.81,164.81C228.12,169.5 225.12,174.01 221.83,178.31C218.51,182.63 215.44,187.13 212.63,191.8C210.55,195.41 208.82,199.21 207.49,203.16C207.18,204.13 206.56,204.98 205.74,205.58C204.97,206.14 204.04,206.44 203.09,206.43ZM203.09,158.99C205.67,158.97 208.16,158.05 210.15,156.4C212.13,154.74 213.47,152.45 213.96,149.91C214.44,147.38 214.04,144.75 212.8,142.48C211.57,140.21 209.6,138.43 207.21,137.46C204.82,136.48 202.16,136.36 199.69,137.12C197.22,137.88 195.1,139.47 193.67,141.62C192.24,143.77 191.6,146.35 191.85,148.92C192.11,151.49 193.25,153.89 195.07,155.72C196.11,156.78 197.36,157.62 198.74,158.19C200.12,158.75 201.6,159.02 203.09,158.99Z" />
                    <path fill="#dadce0" d="M259.4,195.11C258.5,195.11 257.62,195.29 256.81,195.65C255.17,190.63 250.78,186.95 245.55,186.95C240.58,186.95 236.42,190.25 234.56,194.82C233.35,194.15 231.98,193.74 230.52,193.74C226.58,193.74 223.31,196.52 222.08,200.28L221.65,201.6H223.03H264.86H266.16L265.83,200.35C265.06,197.34 262.51,195.11 259.4,195.11Z" stroke="#dadce0" stroke-width="2.0" />
                    <path fill="#dadce0" d="M182.28,207.79C181.05,207.79 179.87,208.16 178.93,208.84C177.69,203.55 173.15,199.62 167.79,199.62C162.66,199.62 158.36,203.17 156.83,208.03C155.47,207.04 153.82,206.41 152.05,206.41C148.46,206.41 145.39,208.84 144.22,212.27H188C187.29,209.65 184.99,207.79 182.28,207.79Z" />
                </g>
            </svg>
        </div>


        <div class="select_location_type">
            <md-outlined-button onclick="sendThemeToAndroid('ReqLocation');">
                <md-icon icon-outlined slot="icon">my_location</md-icon>
                Current location
            </md-outlined-button>

            <md-filled-button onclick="sendThemeToAndroid('AddLocationPage')">
                <md-icon icon-outlined slot="icon">search</md-icon>
                Search location
            </md-filled-button>

            <md-outlined-button onclick="Android.importFile();">
                <md-icon icon-outlined slot="icon">download</md-icon>
                Import backup
            </md-outlined-button>
        </div>

    </div>
</div>


<script>
    function saveLocationDataOnReload(){
                setTimeout(() =>{
                    sendThemeToAndroid('ReqLocation');
                document.querySelector('.start_up_screen').hidden = true;
                useAutoCurrentLocation();

    }, 500);
    }

async function initializeDragAndDrop() {
  const draggableContainer = document.getElementById('sortableContainer');
  const storageKey = 'dragAndDropState';

  async function saveOrder() {
      const itemsOrder = Array.from(draggableContainer.children).map(element => element.dataset.id);
      await customStorage.setItem(storageKey, JSON.stringify(itemsOrder));
  }

  async function loadOrder() {
      const storedState = await customStorage.getItem(storageKey);
      if (storedState) {
          const itemsOrder = JSON.parse(storedState);
          const elements = Array.from(draggableContainer.children);

          itemsOrder.forEach(id => {
              const element = elements.find(el => el.dataset.id === id);
              if (element) {
                  draggableContainer.appendChild(element);
              }
          });
      }
  }
let timeoutID;
  const sortableInstance = new Sortable(draggableContainer, {
      animation: 250,
      ghostClass: 'sortable-ghost',
      delay: 500,
      onStart(evt) {

        evt.item.classList.add('noSwipe');
    },
      onEnd(evt) {
        clearTimeout(timeoutID);

        timeoutID = setTimeout(() => {
          evt.item.classList.remove('noSwipe');
        }, 350);
          saveOrder();
      },
  });

  await loadOrder();
}

initializeDragAndDrop();

// -----------------------------------------------------------------------------------------------------------------------------

async function initializeDragAndDropAllEL() {
  const draggableContainer = document.getElementById('sortHolder');
  const storageKey = 'dragAndDropStateAllEL';

  async function saveOrder() {
      const itemsOrder = Array.from(draggableContainer.children).map(element => element.dataset.id);
      await customStorage.setItem(storageKey, JSON.stringify(itemsOrder));
  }

  async function loadOrder() {
      const storedState = await customStorage.getItem(storageKey);
      if (storedState) {
          const itemsOrder = JSON.parse(storedState);
          const elements = Array.from(draggableContainer.children);

          itemsOrder.forEach(id => {
              const element = elements.find(el => el.dataset.id === id);
              if (element) {
                  draggableContainer.appendChild(element);
              }
          });
      }
  }
  await loadOrder();
}
initializeDragAndDropAllEL()

// ------------------------------------------------------------------------------
    let sortableInstanceLocations;

async function initializeDragAndDropLocations() {
  const draggableContainer = document.querySelector('savedlocationsholder');
  const storageKey = 'dragAndDropStateLocations';

  async function saveOrder() {
      const itemsOrder = Array.from(draggableContainer.children).map(element => element.dataset.id);
      await customStorage.setItem(storageKey, JSON.stringify(itemsOrder));
  }

  async function loadOrder() {
      const storedState = await customStorage.getItem(storageKey);
      if (storedState) {
          const itemsOrder = JSON.parse(storedState);
          const elements = Array.from(draggableContainer.children);

          itemsOrder.forEach(id => {
              const element = elements.find(el => el.dataset.id === id);
              if (element) {
                  draggableContainer.appendChild(element);
              }
          });
      }
  }
let timeoutID;
        if (sortableInstanceLocations) {
    sortableInstanceLocations.destroy();
  }

  sortableInstanceLocations = new Sortable(draggableContainer, {
      animation: 250,
      delay: 500,
      onStart(evt) {

        evt.item.classList.add('noSwipe');
                evt.item.classList.add('sortable-ghost-locations');

    },
      onEnd(evt) {
        clearTimeout(timeoutID);

        timeoutID = setTimeout(() => {
          evt.item.classList.remove('noSwipe');
        }, 350);
        evt.item.classList.remove('sortable-ghost-locations');
          saveOrder();
      },
  });

  await loadOrder();
}





        function handleStorageChangeLayoutEvent(event) {
            if (event.detail && event.detail.key === 'LoadNewOrder') {

                setTimeout(() => {
                    initializeDragAndDropAllEL()
                }, 500);

            }
        }

        window.addEventListener('indexedDBChange', handleStorageChangeLayoutEvent);



        function checkFontEventChange() {
            const useSysFontPages = localStorage.getItem('SelectedAPPfont');

            if (useSysFontPages === 'roboto') {
                document.documentElement.setAttribute('sys-font', 'roboto');
            } else {
                document.documentElement.setAttribute('sys-font', ' ');
            }
        }

        function handleStorageChangeFontEvent(event) {
            if (event.key === 'SelectedAPPfont') {

                setTimeout(() => {
                    checkFontEventChange()
                }, 500);

            }
        }

        window.addEventListener('storage', handleStorageChangeFontEvent);

        // ------------


        function checkFontSizeEventChange() {
            const useFontSizePages = localStorage.getItem('SelectedAPPfontSize');

            if (useFontSizePages === 'large_fontSize') {
            document.documentElement.setAttribute("sys-font-size", "large_fontSize");
            } else if (useFontSizePages === 'medium_fontSize') {
            document.documentElement.setAttribute("sys-font-size", "medium_fontSize");
            } else {
            document.documentElement.setAttribute("sys-font-size", "");
            }
        }

        function handleStorageChangeFontSizeEvent(event) {
            if (event.key === 'SelectedAPPfontSize') {

                setTimeout(() => {
                    checkFontSizeEventChange()
                }, 500);

            }
        }

        window.addEventListener('storage', handleStorageChangeFontSizeEvent);



        const customMonths = [
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_jan'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_feb'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_mar'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_apr'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_may'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_june'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_july'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_aug'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_sep'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_oct'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_nov'),
        getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'month_Dec'),

];

const currentDate = new Date();

const monthIndex = currentDate.getMonth();
const day = currentDate.getDate();

const formattedDate = customMonths[monthIndex] + ', ' + day;

document.getElementById('date_text_top').innerText = formattedDate;

        const CitySearchInput = document.getElementById('city-input')

        function CityInputClearBtn() {
            if (CitySearchInput.value.trim() === "") {
                document.getElementById('clearCityInput').hidden = true;
            } else {
                document.getElementById('clearCityInput').hidden = false;
            }
        }

        CitySearchInput.addEventListener('input', CityInputClearBtn);


        document.getElementById('clearCityInput').addEventListener('click', () => {
            CitySearchInput.value = ''
            CitySearchInput.focus()
            CitySearchInput.dispatchEvent(new Event('input'));
        });






        document.getElementById('currentLocations').addEventListener('click', () => {
            document.getElementById('forecast').scrollLeft = 0;
            document.getElementById('weather_wrap').scrollTop = 0;
        });




        document.getElementById('froggie_imgs').addEventListener('load', () => {
            document.querySelector('.alt_text_frog').hidden = true;
            document.getElementById('froggie_imgs').hidden = false;

            const senderDivHeight = document.getElementById('froggie_imgs').offsetHeight;
            console.log(senderDivHeight);


            const adjustAnimationHolderHeight = () => {
                if (
                    document.getElementById('foreground_animation').getAttribute('running_clouds') === 'true' ||
                    document.getElementById('background_animation').getAttribute('running_clouds') === 'true' ||
                    document.getElementById('foreground_animation').getAttribute('running_clouds_full') === 'true' ||
                    document.getElementById('background_animation').getAttribute('running_clouds_full') === 'true'
                ) {
                    document.querySelector('.animation_holder').style.height = `calc(100%)`;
                } else {
                    document.querySelector('.animation_holder').style.height = `calc(100% + ${senderDivHeight}px - 30px)`;
                }
            };

            adjustAnimationHolderHeight();

            const observer = new MutationObserver(() => {
                adjustAnimationHolderHeight();
            });

            const foregroundAnimation = document.getElementById('foreground_animation');
            const backgroundAnimation = document.getElementById('background_animation');

            observer.observe(foregroundAnimation, { attributes: true, attributeFilter: ['running_clouds'] });
            observer.observe(backgroundAnimation, { attributes: true, attributeFilter: ['running_clouds'] });
            observer.observe(foregroundAnimation, { attributes: true, attributeFilter: ['running_clouds_full'] });
            observer.observe(backgroundAnimation, { attributes: true, attributeFilter: ['running_clouds_full'] });
        });


        document.addEventListener('DOMContentLoaded', async () => {
        setTimeout(() =>{
    document.querySelector('body').classList.add('loaded')
        }, 400)

                if(localStorage.getItem("SelectedTempUnit") === 'fahrenheit'){
             document.querySelector('now').innerHTML = `<span>${getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'now')}</span> - Â°F`

        } else{
            document.querySelector('now').innerHTML = `<span>${getTranslationByLang(localStorage.getItem("AppLanguageCode"), 'now')}</span> - Â°C`
        }

        let lastUpdatedTimerValid;

function lastUpdatedTimer() {
    if (lastUpdatedTimerValid) return;
    lastUpdatedTimerValid = true;
    meteorIntervalId = setInterval(() => {
        document.getElementById('last_updated').click();
    }, 60000);
}

lastUpdatedTimer()
})

async function checkRemovedItems() {
    const getAddedItems = JSON.parse(await customStorage.getItem('hidden_cards'));

    if (Array.isArray(getAddedItems)) { // Ensure it is an array
        document.querySelector('.hourly_card_selector').hidden = getAddedItems.includes('hourly_forecast_box');
        document.querySelector('.all-5d').hidden = getAddedItems.includes('daily_forecast_box');
        document.querySelector('.currentConditions').hidden = getAddedItems.includes('current_conditions_box');
        document.querySelector('.pollen_data').style.display = getAddedItems.includes('pollen_data_box') ? 'none' : '';
        document.querySelector('.air_selector').hidden = getAddedItems.includes('air_quality_index_box');
        document.querySelector('.uv_selector').hidden = getAddedItems.includes('uv_index_box');
    }
}

    checkRemovedItems();


//

async function checkRemovedWidgetItems() {
    const getAddedItems = JSON.parse(await customStorage.getItem('hidden_widget_cards'));

    if (Array.isArray(getAddedItems)) { // Ensure it is an array
        document.querySelector('.sunRISESET').hidden = getAddedItems.includes('sun_widget_box');
        document.querySelector('.moonSetRise').hidden = getAddedItems.includes('moon_widget_box');
        document.querySelector('.humidity').hidden = getAddedItems.includes('humidity_widget_box');
        document.querySelector('.visibility').hidden = getAddedItems.includes('visibility_widget_box');
        document.querySelector('.WindDirc').hidden = getAddedItems.includes('direction_widget_box');
        document.querySelector('.pressure').hidden = getAddedItems.includes('pressure_widget_box');
    }
}

checkRemovedWidgetItems()


function handleStorageChangeHiddenLayoutEvent(event) {
    const key = event?.detail?.key;

    if (!key) return;

    if (key === 'hidden_cards' || key === 'hidden_widget_cards') {
        setTimeout(() => {
            if (key === 'hidden_cards') {
                checkRemovedItems();
            }
            if (key === 'hidden_widget_cards') {
                checkRemovedWidgetItems();
            }
            if (key === 'hidden_cards' && key === 'hidden_widget_cards') {
            }
        }, 500);
    }
}


        window.addEventListener('indexedDBChange', handleStorageChangeHiddenLayoutEvent);


    </script>


<script src="modules/units.js"></script>
<script src="providers/met-norway.js"></script>
<script src="providers/accuweather.js"></script>
<script src="providers/meteo-france.js"></script>
<script src="providers/dwdGermany.js"></script>
<script src="providers/noaaUS.js"></script>
<script src="providers/bomAustralia.js"></script>
<script src="providers/cmaChina.js"></script>
<script src="providers/dmiDenmark.js"></script>
<script src="providers/ecmwf.js"></script>
<script src="providers/gemCanada.js"></script>
<script src="providers/jmaJapan.js"></script>
<script src="providers/knmiNetherlands.js"></script>
<script src="providers/ukMetOffice.js"></script>
<script src="app/bg_animations.js"></script>
<script src="modules/widgets.js"></script>
<script type="module" src="./index.js"></script>
<script src="components-script.js/components.js"></script>
<script src="ripple-files/icon-ripple.js"></script>
<script src="map/leaflet.js"></script>
<script src="modules/scroll.js"></script>
<script src="modules/ripple_acc.js"></script>
<script src="app/navigate.js"></script>
<script src="app/country-list.js"></script>
<script src="app/apiKeysRotation.js"></script>
<script src="modules/pixel-components.js"></script>
<script src="app/fetch.js"></script>
<script src="modules/sun-tracker.js"></script>
<script src="app/app.js"></script>
<script src="app/day_summary.js"></script>
<script src="app/renderWeather.js"></script>

</body>

</html>